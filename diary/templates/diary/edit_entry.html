{% extends 'diary/base.html' %}
{% load widget_tweaks %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å: {{ entry.title }}{% endblock %}

{% block content %}
<h1 class="mb-4 text-danger">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å</h1>

<form method="post" enctype="multipart/form-data" class="bg-white p-4 rounded shadow-sm">
    {% csrf_token %}

    <div class="mb-3">
        <label class="form-label">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
        {{ form.title|add_class:"form-control" }}
    </div>

    <div class="mb-3">
        <label class="form-label">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</label>
        {{ form.content|add_class:"form-control" }}
    </div>

    <div class="mb-3">
        <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
        <div class="d-flex flex-wrap">
            {% for checkbox in form.categories %}
                <div class="card me-3 mb-3" style="width: 18rem;">
                    <div class="card-body">
                        <div class="form-check">
                            {{ checkbox.tag }}
                            <label class="form-check-label">{{ checkbox.choice_label }}</label>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="mb-3 form-check">
        {{ form.is_pinned }}
        <label class="form-check-label">–ó–∞–∫—Ä–µ–ø–∏—Ç—å –∑–∞–ø–∏—Å—å</label>
    </div>

    <div class="mb-3">
        <label class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label><br>
        {{ form.image }}
        {% if entry.image %}
            <div class="mt-3">
                <img src="{{ entry.image.url }}" class="img-fluid rounded shadow-sm" alt="–¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" style="max-height: 300px;">
            </div>
        {% endif %}
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        <a href="{% url 'view_entry' entry.id %}" class="btn btn-secondary">–ù–∞–∑–∞–¥</a>
    </div>
</form>
{% endblock %}
{% comment %} {% extends 'diary/base.html' %}
{% load widget_tweaks %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å: {{ entry.title }}{% endblock %}

{% block content %}
<h1 class="mb-4 text-danger">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å</h1>

<form method="post" enctype="multipart/form-data" class="bg-white p-4 rounded shadow-sm border">
    {% csrf_token %}

    <div class="mb-3">
        <label class="form-label fw-bold">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
        {{ form.title|add_class:"form-control" }}
    </div>

    <div class="mb-3">
        <label class="form-label fw-bold">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</label>
        {{ form.content|add_class:"form-control" }}
    </div>

    <div class="mb-3">
        <label class="form-label fw-bold">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
        <div class="row">
            {% for checkbox in form.categories %}
                <div class="col-sm-6">
                    <div class="form-check">
                        {{ checkbox.tag }}
                        <label class="form-check-label">{{ checkbox.choice_label }}</label>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="mb-3 form-check">
        {{ form.is_pinned|add_class:"form-check-input" }}
        <label class="form-check-label fw-medium">üìå –ó–∞–∫—Ä–µ–ø–∏—Ç—å –∑–∞–ø–∏—Å—å</label>
    </div>

    <div class="mb-3">
        <label class="form-label fw-bold">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
        {{ form.image|add_class:"form-control" }}
        {% if entry.image %}
            <div class="mt-3">
                <img src="{{ entry.image.url }}" class="img-fluid rounded shadow-sm" alt="–¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" style="max-height: 300px;">
            </div>
        {% endif %}
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        <a href="{% url 'view_entry' entry.id %}" class="btn btn-secondary">–ù–∞–∑–∞–¥</a>
    </div>
</form>
{% endblock %} {% endcomment %}
